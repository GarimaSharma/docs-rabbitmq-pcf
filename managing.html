<!doctype html>
<html>
<head>
  <meta charset="utf-8">

  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  <!-- Use title if it's in the page YAML frontmatter -->
  <title>Deploying and Managing the RabbitMQ Service | Pivotal RabbitMQ Docs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1, user-scalable=no" id="viewport" />

  <link href="../../stylesheets/master.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="../../stylesheets/breadcrumbs.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="../../stylesheets/search.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="../../stylesheets/portal-style.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="../../stylesheets/printable.css" media="print" rel="stylesheet" type="text/css" />
  <script src="../../javascripts/all.js" type="text/javascript"></script>

  <link href='http://www.gopivotal.com/misc/favicon.ico' rel='shortcut icon'>

  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39702075-1']);
    _gaq.push(['_setDomainName', 'gopivotal.com']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</head>

<body class="pivotalcf pivotalcf_services pivotalcf_services_index">
  <div class="viewport">
    <div class="mobile-navigation--wrapper mobile-only">
      <div class="navigation-drawer--container">
        <div class="navigation-item-list">
          <div class="navbar-link active">
            <a href="http://gopivotal.com">
              Home
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/paas">
              PaaS
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/big-data">
              Big Data
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/agile">
              Agile
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/support">
              Help &amp; Support
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/products">
              Products
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/solutions">
              Solutions
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
          <div class="navbar-link">
            <a href="http://gopivotal.com/partners">
              Partners
              <i class="icon-chevron-right pull-right"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="mobile-nav">
        <div class="nav-icon js-open-nav-drawer">
          <i class="icon-reorder"></i>
        </div>
        <div class="header-center-icon">
          <a href="http://gopivotal.com">
            <div class="icon icon-pivotal-logo-mobile"></div>
          </a>
        </div>
      </div>
    </div>

    <div class='wrap'>
      <script src="//use.typekit.net/clb0qji.js" type="text/javascript"></script>
      <script type="text/javascript">
          try {
              Typekit.load();
          } catch (e) {
          }
      </script>
      <script type="text/javascript">
          document.domain = "gopivotal.com";
      </script>
      <div id="search-dropdown-box">
        <div class="search-dropdown--container js-search-dropdown">
          <div class="container-fluid">
            <div class="close-menu-large"><img src="http://www.gopivotal.com/sites/all/themes/gopo13/images/icon-close.png" /></div>
            <div class="search-form--container">
              <div class="form-search">
                <div class='gcse-search'></div>
                <script src="http://www.google.com/jsapi" type="text/javascript"></script>
                <script src="../../javascripts/cse.js" type="text/javascript"></script>
              </div>
            </div>
          </div>
        </div>
      </div>

      <header class="navbar desktop-only" id="nav">
        <div class="navbar-inner">
            <div class="container-fluid">
                <div class="pivotal-logo--container">
                    <a class="pivotal-logo" href="http://gopivotal.com"><span></span></a>
                </div>

                <ul class="nav pull-right">
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/paas" id="paas-nav-link">PaaS</a>
                    </li>
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/big-data" id="big-data-nav-link">BIG DATA</a>
                    </li>
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/agile" id="agile-nav-link">AGILE</a>
                    </li>
                    <li class="navbar-link">
                        <a href="http://www.gopivotal.com/oss" id="oss-nav-link">OSS</a>
                    </li>
                    <li class="nav-search">
                        <a class="js-search-input-open" id="click-to-search"><span></span></a>
                    </li>
                </ul>
            </div>
            <a href="http://www.gopivotal.com/contact">
                <img id="get-started" src="http://www.gopivotal.com/sites/all/themes/gopo13/images/get-started.png">
            </a>
        </div>
      </header>
      <div class="main-wrap">
        <div class="container-fluid">

          <!-- Google CSE Search Box -->
          <div id='docs-search'>
              <gcse:search></gcse:search>
          </div>

          <div id='all-docs-link'>
            <a href="/">All Documentation</a>
          </div>

          <div class="container">
            <div id="sub-nav" class="nav-container">
          <ul class="menu">
            <li class="first expanded js-maintopic"><a id='home-nav-link' href="/rabbitmq-cf/index.html">Overview</a></li>
            <li class="first expanded js-maintopic"><a href="/rabbitmq-cf/managing.html">Installing and Managing the RabbitMQ Service</a></li>
            <li class="first expanded js-maintopic"><a href="/rabbitmq-cf/vcap-services.html">RabbitMQ Entries in the VCAP_SERVICES Environment Variable</a></li>
            <li class="first expanded js-maintopic"><a href="/rabbitmq-cf/rabbitmq-cluster.html">Accessing the RabbitMQ Cluster Directly</a></li>
            <li class="first expanded js-maintopic"><a href="http://previous.rabbitmq.com/v3_1_x/documentation.html"  target="_blank">Using RabbitMQ</a></li>
          </ul>
</div><!--end of sub-nav-->

            <div class="body-container content">

              <ul class="breadcrumbs"><li><a href="/rabbitmq-cf/index.html">Pivotal RabbitMQ Documentation</a></li> <li class="active"><span>Deploying and Managing the RabbitMQ Service</span></li></ul>
                    
                   <h3 class="title-container">Deploying and Managing the RabbitMQ Service</h3>
                    <p>The Pivotal Cloud Foundry installer will install zero or one RabbitMQ clusters of largely any size. The installation has a load balancer (<code>haproxy</code>) which spreads connections on all of the default ports for all of the shipped plugins across all the machines within the cluster.</p>
          <p>There is integration with Cloud Foundry. From Cloud Foundry you can create instances of RabbitMQ (which amount to <strong>vhosts</strong>) and then bind apps to those instances (which amount to creating user accounts with permissions to access the relevant <strong>vhost</strong>). The URIs which are injected into the <code>VCAP_SERVICES</code> environment variable for apps running on Cloud Foundry point at the IP of the load balancer. Consquently you can change the size of your RabbitMQ cluster from the installer, redeploy, and find the load balancer automatically reconfigured and no need to change any details within your apps on Cloud Foundry.</p>
          <p>Via the installer you:</p>
          <ul>
            <li>must choose an admin username and password for RabbitMQ. This will grant you full admin access to RabbitMQ via the Managment UI.</li>
            <li>can choose which plugins you wish to enable. You must leave the Management plugin enabled otherwise nothing will work.</li>
            <li>can provide SSL keys and certificates for use by the RabbitMQ cluster. Note SSL is simultaneously provided on the amqps port (5671) and the management port (15672). If you provide SSL keys and certificates, you are disabling non-SSL support. No other plugins are automatically configured for use with SSL. Note SSL settings are applied equally across all machines in the cluster.</li>
            <li>can specify the Erlang cookie value. This is useful if you wish to use other machines running Erlang to interact directly with the Erlang nodes running RabbitMQ, e.g. if you wish to run <code>rabbitmqctl</code> from a machine that is not part of the RabbitMQ cluster.</li>
            <li>can provide a full <code>rabbitmq.config</code> file, if you need to. Note this file is provided to all the nodes in the cluster.</li>
            <li>can easily resize the RabbitMQ cluster without losing state.</li>
            <li>can change which ports are load-balanced by <code>haproxy</code>. By default all the default ports of all the available plugins will be load-balanced. However, if you install extra protocol plugins, or provide a custom configuration which changes the ports that RabbitMQ listens on then you must update the list of load-balanced ports. Note that you must always leave the management plugin listening on port 15672 and load balance that port.</li>
          </ul>
        <h2>Accessing RabbitMQ Management plugin</h2>
          <p>To gain access to the Management UI as the admin user, after installation inspect the Status tab within the RabbitMQ components of the installer. This will give you the IP of the load balancer. In a browser, go to this IP on port 15672. The username and password is the username and password you provided in the RabbitMQ configuration, which is also shown in the Credentials tab.</p>
          <p>Users of Cloud Foundry who create instances via the Cloud Foundry web console, or the <code>cf</code> CLI also get access to the Management UI. This is done using credentials that provide access only to their particular <strong>vhost</strong>. The appropriate URL is accessible via the Manage button within the Cloud Foundry web console, but is also injected into the <code>VCAP_SERVICES</code> environment variable provided to apps running on Cloud Foundry.</p>
        </div><!-- end of body-container content-->
          </div><!-- end of container -->
        </div><!--end of container-fluid-->
      </div><!--end of main-wrap-->

      <div class="site-footer desktop-only">
          <div class="container-fluid">
              <div class="site-footer-links">
                  <span class="version"><a href='/'>Pivotal Documentation</a></span>
                  <span>&copy;
                      <script>
                          var d = new Date();
                          document.write(d.getFullYear());
                      </script>
                      <a href='http://gopivotal.com'>Pivotal Software</a> Inc. All Rights Reserved.
                  </span>
              </div>
          </div>
      </div>

      <script type="text/javascript">
          (function() {
              var didInit = false;
              function initMunchkin() {
                  if(didInit === false) {
                      didInit = true;
                      Munchkin.init('625-IUJ-009');
                  }
              }
              var s = document.createElement('script');
              s.type = 'text/javascript';
              s.async = true;
              s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
              s.onreadystatechange = function() {
                  if (this.readyState == 'complete' || this.readyState == 'loaded') {
                      initMunchkin();
                  }
              };
              s.onload = initMunchkin;
              document.getElementsByTagName('head')[0].appendChild(s);
          })();
      </script>
  </div><!--end of viewport-->
  <div id="scrim"></div>
</body>
</html>