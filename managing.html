<!doctype html>
<html>
<head>
  <meta charset="utf-8">

  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  <!-- Use title if it's in the page YAML frontmatter -->
  <title>Deploying and Managing the RabbitMQ Service | Pivotal RabbitMQ Docs</title>

  <link href="../../stylesheets/master.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="../../stylesheets/breadcrumbs.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="../../stylesheets/search.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="../../stylesheets/portal-style.css" media="screen,print" rel="stylesheet" type="text/css" />
  <link href="../../stylesheets/printable.css" media="print" rel="stylesheet" type="text/css" />

  <script src="../../javascripts/all.js" type="text/javascript"></script>
  <link href='/images/favicon.ico' rel='shortcut icon'>

</head>

<body class="pivotalcf pivotalcf_getstarted pivotalcf_getstarted_index">
<div class='wrap'>
  <script src="//use.typekit.net/clb0qji.js" type="text/javascript"></script>
  <script type="text/javascript">
      try {
          Typekit.load();
      } catch (e) {
      }
  </script>
  <script type="text/javascript">
      document.domain = "gopivotal.com";
  </script>
  <header class="navbar desktop-only" id="nav">
    <div class="navbar-inner">
        <div class="container-fluid">
            <div class="pivotal-logo--container">
                <a class="pivotal-logo" href="http://gopivotal.com"><span></span></a>
            </div>

            <ul class="nav pull-right">
                <li class="navbar-link">
                    <a href="http://www.gopivotal.com/paas" id="paas-nav-link">PaaS</a>
                </li>
                <li class="navbar-link">
                    <a href="http://www.gopivotal.com/big-data" id="big-data-nav-link">BIG DATA</a>
                </li>
                <li class="navbar-link">
                    <a href="http://www.gopivotal.com/agile" id="agile-nav-link">AGILE</a>
                </li>
                <li class="navbar-link">
                    <a href="http://www.gopivotal.com/oss" id="oss-nav-link">OSS</a>
                </li>
                <li class="nav-search">
                    <a href="http://www.gopivotal.com/search/node"><span></span></a>
                </li>
            </ul>
        </div>
        <a href="http://www.gopivotal.com/contact">
            <img id="get-started" src="http://www.gopivotal.com/sites/all/themes/gopo13/images/get-started.png">
        </a>
    </div>
  </header>
  <div class="main-wrap">
    <div class="container-fluid">
      <div class="container">
        <div id="sub-nav" class="nav-container desktop-only">
          <ul class="menu">
				<li class="first expanded js-maintopic"><a id='home-nav-link' href="/rabbitmq-cf/index.html">Overview</a></li>
				<li class="first expanded js-maintopic"><a href="/rabbitmq-cf/managing.html">Installing and Managing the RabbitMQ Service</a></li>
				<li class="first expanded js-maintopic"><a href="/rabbitmq-cf/vcap-services.html">RabbitMQ Entries in the VCAP_SERVICES Environment Variable</a></li>
				<li class="first expanded js-maintopic"><a href="/rabbitmq-cf/rabbitmq-cluster.html">Accessing the RabbitMQ Cluster Directly</a></li>
				<li class="first expanded js-maintopic"><a href="http://previous.rabbitmq.com/v3_1_x/documentation.html"  target="_blank">Using RabbitMQ</a></li>
          </ul>
        </div><!--end of sub-nav-->
        <div class="body-container content">

          <!-- Google CSE Search Box -->
          <script>
              (function() {
                  var cx = '005804290371689664731:n1ix15a_ysy';
                  var gcse = document.createElement('script');
                  gcse.type = 'text/javascript';
                  gcse.async = true;
                  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                          '//www.google.com/cse/cse.js?cx=' + cx;
                  var s = document.getElementsByTagName('script')[0];
                  s.parentNode.insertBefore(gcse, s);
              })();
          </script>
          <gcse:search></gcse:search>

          <ul class="breadcrumbs"> <li><a href="index.html">Pivotal RabbitMQ Documentation</a></li> <li class="active"><span>Deploying and Managing the RabbitMQ Service</span></li></ul>
                    
                    <h3 class="title-container">Deploying and Managing the RabbitMQ Service</h3>
                    <p>The Pivotal CF installer enables cloud operators to deploy a RabbitMQ service in Pivotal CF. You can deploy the service as a single node or a cluster of largely any size. The installation includes a load balancer (<code>haproxy</code>) that works on the ports for all available plugins:</p>
                    <p>You can create RabbitMQ service instances (virtual hosts, or vhosts) and then bind applications to those instances. Binding applications amounts to creating user accounts with permissions to access the relevant vhost. The URIs that are injected into the <code>VCAP_SERVICES</code> environment variable for applications running on Pivotal CF point to the IP address of the load balancer. Consequently, you can change the size of your RabbitMQ cluster from the installer and redeploy the service instance, and the load balancer is reconfigured automatically, with no need to change any details within your applications on Pivotal CF.</p>
                    <h2>Deploying a RabbitMQ Service Instance</h2>
                    <p>To deploy a RabbitMQ service instance:</p>
                    <ol>
                        <li><strong>Required</strong>. Enter an administrator username and password for RabbitMQ. This account grants full administrative access to RabbitMQ through the management user interface.</li>
                        <li><strong>Optional</strong>. Choose the plugins to enable. You must leave the management plugin enabled; otherwise, RabbitMQ will not work.</li>
                        <li><strong>Optional</strong>. Provide SSL (secure sockets layer) keys and certificates for use by the RabbitMQ cluster. See <a href="http://www.rabbitmq.com/ssl.html">SSL Support</a> for instructions on generating SSL certificates. Note that SSL is simultaneously provided on the AMQPS port (5671) and the management port (15672). If you provide SSL keys and certificates, then you are disabling non-SSL support. No other plugins are automatically configured for use with SSL. SSL settings are applied equally across all machines in the cluster.</li>
                        <li><strong>Optional</strong>. Specify the Erlang cookie value. This value is useful if you want other machines running Erlang to interact directly with the Erlang nodes running RabbitMQ -- for example, if you want to run rabbitmqctl from a machine that is not part of the RabbitMQ cluster.</li>
                        <li><strong>Optional</strong>. Provide a complete <strong>rabbitmq.config</strong> file. Note that this file is provided to all nodes in the cluster.</li>
                        <li><strong>Optional</strong>. Resize the RabbitMQ cluster without losing state.</li>
                        <li><strong>Optional</strong>. Change which ports are load balanced by <strong>haproxy</strong>. The default ports of all available plugins are load balanced initially. If you install extra protocol plugins or provide a custom configuration that changes the ports that RabbitMQ listens on, then you must update the list of load-balanced ports. Note that you must always leave the management plugin listening on port 15672 and load balance that port.</li>
                    </ol>
                    <h2>Accessing the Management Interface</h2>
                    <p>From a web browser:</p>
                    <ol>
                        <li>Navigate to the RabbitMQ component of the Pivotal CF installer.</li>
                        <li>Click on the <strong>Status</strong> tab. The tab displays the IP address of the load balancer.</li>
                        <li>In a web browser, navigate to the load balancer IP address on port 15672.</li>
                        <li>Enter the username and password that you provided in the RabbitMQ configuration. The account information is also displayed on the <strong>Credentials</strong> tab of the RabbitMQ component of the Pivotal CF installer.</li>
                    </ol>
                    <p>Users who create RabbitMQ service instances using the Pivotal CF web console or command-line interface can also access the management interface. Click the <strong>Manage</strong> button in the web console. The management interface URL is also inserted into the <code>VCAP_SERVICES</code> environment variable provided to applications running on Pivotal CF.</p>

        </div><!-- end of body-container content-->
      </div><!-- end of container -->
    </div><!--end of container-fluid-->
  </div><!--end of main-wrap-->

  <div class="site-footer desktop-only">
      <div class="container-fluid">
          <div class="site-footer-links">
              <span class="version"><a href='/'>Pivotal Documentation</a></span>
              <span>&copy;
                  <script>
                      var d = new Date();
                      document.write(d.getFullYear());
                  </script>
                  <a href='http://gopivotal.com'>Pivotal Software</a> Inc. All Rights Reserved.
              </span>
          </div>
      </div>
  </div>

  <script type="text/javascript">
      (function() {
          var didInit = false;
          function initMunchkin() {
              if(didInit === false) {
                  didInit = true;
                  Munchkin.init('625-IUJ-009');
              }
          }
          var s = document.createElement('script');
          s.type = 'text/javascript';
          s.async = true;
          s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
          s.onreadystatechange = function() {
              if (this.readyState == 'complete' || this.readyState == 'loaded') {
                  initMunchkin();
              }
          };
          s.onload = initMunchkin;
          document.getElementsByTagName('head')[0].appendChild(s);
      })();
  </script>
</body>
</html>
