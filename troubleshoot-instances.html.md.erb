---
title: Troubleshooting Instances
owner: London Services
---

This topic provides some basic instructions for app developers on troubleshooting instances of the On-Demand RabbitMQ for PCF service.

This topic provides basic instructions for app developers troubleshooting On-Demand RabbitMQ&reg; for PCF.

## <a id="create-instance"></a> Errors

### <a id="create-instance"></a> Instance Creation Errors

This section describes errors that may occur when you run `cf create-service` to create an instance of the on-demand RabbitMQ for PCF service.

<table border='1' class='nice'>
<tr>
  <th width="22%">Error</th>
  <td>Developers cannot create instances of on-demand services. Errors they report may include:
    <ul>
    <li><code>TK cannot create instance GUID TASK-ID</code></li>
    <li><code>TK cannot create instance GUID TASK-ID</code></li>
    </ul>
 </td>
</tr>
<tr>
  <th>Possible Causes</th>
  <td>
    <ul>
    <li>BOSH fails when trying to create a new VM</li>
    <li>Cloud Controller, On-Demand Broker, or Service Adapter fails in its role creating a new service instance</li>
    <li>The network fails to deliver messages between the Cloud Controller, On-Demand Broker, Service Adapter, and BOSH</li>
    </ul>
  </td>
</tr>
<tr>
  <th>Solution</th>
  <td>
    <p>Any <code>create-instance</code>error includes the following identifiers, which are useful for debugging:</p>

    <ul><li>The BOSH Task ID of the instance creation job.</li>
    <li>The GUID of the partially-created service instance</li></ul>

    <p>If you do not have these identifiers, follow the instructions to <a href="#determine-task-id">Determine the Task ID of a create-instance Task</a> and to <a href="#determine-guid">Determine the GUID of an Instance</a>.</p>

    <p>Once you have the BOSH Task ID and instance GUID, proceed as follows:</p>

    <ol><li>
      Run <code>bosh task TASK-ID</code> to show instance creation task errors from BOSH. Possible errors include failure at the IaaS level and hitting your rate limit for the day.
    </li><li>
      If the BOSH task completed successfully, the problem was elsewhere. You can use a logging platform to locate where. If you haven't already, follow the instructions to <a href="#set-up-logging">set up logging</a> to track the progress of your <code>create-service</code>task. Note that RabbitMQ for PCF logs and platform component logs are configured separately.
    </li><li>
      Search for the service instance GUID in the logs generated by <code>cf create-service</code>.
    </li><li>
      Refer to the <a href="https://docs.pivotal.io/svc-sdk/odb/concepts.html#create-service-instance">Create service instance process diagram</a> to see the order of component actions and messages that successfully create an on-demand service instance. The Cloud Controller component generates the service instance GUID before it sends the first <code>provision instance</code> call to the on-demand broker, and all subsequent messages related to the instance creation task include this GUID.
    </li><li>
      Along with the process diagram, refer to these component identifiers in the logs to determine how far the <code>create-service</code> process went and where it failed:
      <ul><li><code>tk_cloud_controller_xyz</code> - Cloud Controller</li>
      <li><code>tk_odb_xyz</code> - On-Demand Broker</li>
      <li><code>tk_jobs_rabbitmq_server</code> - RabbitMQ for PCF Service Adapter</li>
      <li><code>tk_bosh_xyz</code> - BOSH</li></ul>
    </li></ol>
  </td>
</tr>
</table>
