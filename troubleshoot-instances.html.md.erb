---
title: Troubleshooting Instances
owner: London Services
---

This topic provides basic instructions for app developers troubleshooting On-Demand RabbitMQ&reg; for PCF.

## <a id="about-cli"></a>About the BOSH CLI
The BOSH CLI is available in two major versions, v1 and v2. Pivotal recommends that you use the BOSH CLI v2 when possible.

This topic provides examples of using each version of the BOSH CLI. While all versions of the BOSH CLI work with RabbitMQ for PCF v1.9.x, your Ops Manager Version may affect which version of the BOSH CLI you can use. Consult the table below to determine which version of the CLI is supported for your installation.

<table class="nice">
    <th>Ops Manager Version</th>
    <th>BOSH CLI Version</th>
    <tr>
        <td>1.10</td>
        <td>CLI v1</td>
    </tr>
    <tr>
        <td>1.11</td>
        <td>CLI v1 or CLI v2 (Pivotal recommends CLI v2)</td>
    </tr>
    <tr>
        <td>1.12 and later</td>
        <td>CLI v2</td>
    </tr>
</table>

## <a id="errors"></a> Errors

You may see an error when using the Cloud Foundry Command Line Interface (cf CLI) to perform basic operations on a RabbitMQ for PCF service instance:

* `cf create`
* `cf update`
* `cf bind`
* `cf unbind`
* `cf delete`

### <a id="parse-error"></a>Parse a Cloud Foundry (CF) Error Message

<%= partial '../../rabbitmq-cf/odb/tshoot-tech-parse-error' %>

### <a id="instance"></a> Retrieve Service Instance Information

1. Log into the space containing the instance or failed instance. 
    <pre class="terminal">
    $ cf login
    </pre>

1. If you do not know the name of the service instance, run `cf services` to see a listing of all service instances in the space. The service instances are listed in the `name` column.
    <pre class="terminal">
    $ cf services
    Getting services in org my-org / space my-space as user<span>@</span>example.com...
    OK
    name          service            plan    bound apps    last operation
    my-instance   ondemand-rabbitmq  Solo                  create succeeded
    </pre>

1. Run `cf service SERVICE-INSTANCE-NAME` to retrieve more information about a specific instance.

1. Run `cf service SERVICE-INSTANCE-NAME --guid` to retrieve the GUID of the instance, which is useful for debugging.

### <a id="instance-deployment"></a>Select the BOSH Deployment for a Service Instance

<%= partial '../../rabbitmq-cf/odb/tshoot-tech-instance-deployment' %>

## <a id="kb"></a>Knowledge Base (Community)

<%= partial '../../rabbitmq-cf/odb/tshoot-kb' %>

## <a id="support"></a>File a Support Ticket

<%= partial '../../rabbitmq-cf/odb/tshoot-support-dev' %>

## <a id="delete_rabbitmq_instance"></a>Delete RabbitMQ Instance

On-Demand Broker provides a BOSH command to delete all the On-Demand Broker deployed instances. To delete the instances, do the following procedure:

1. **For BOSH CLI v1 only:** Set the deployment to the On-Demand Broker in BOSH.

1. Run one of the following commands to delete all instances of the On-Demand Broker, depending on your Ops Manager version:
    * **For v1.10 or earlier:** `bosh run errand delete-sub-deployments`
    * **For v1.11 or later:** `bosh2 run-errand delete-sub-deployments`

<p class=:"note-warning"><strong>WARNING: </strong>This command deletes deployment instances serially. It is very destructive and the operation cannot be undone.</p>